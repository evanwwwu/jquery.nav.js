!function(a){a.fn.navscroll=function(n){var o=!1,t=!1,h=[],e=a.extend({easing:"linear",sec:500,url_hash:!1,head_hight:0},n),d=function(n){a("html, body").stop().animate({scrollTop:n-e.head_hight},e.sec,e.linear)};if(e.url_hash){var c=location.hash.replace("#","");"onhashchange"in window&&a(window).bind("hashchange",function(n){return n.preventDefault(),c=location.hash.replace("#",""),o||d(a(document).find("[data-anchor="+c+"]").offset().top),o=!1,!1}),""!=c&&a(document).find("[data-anchor="+c+"]").length>0&&d(a(document).find("[data-anchor="+c+"]").offset().top)}return this.each(function(n){var d;a(this);a(this).find("[data-nav]").each(function(n){var d=a(this).data("nav");a(this).click(function(n){n.preventDefault(),o=!0,t=!0;var h=a(document).find("[data-anchor="+d+"]").length>0?a(document).find("[data-anchor="+d+"]").offset().top:0;e.url_hash&&(location.hash=d),a("html, body").stop().animate({scrollTop:h-e.head_hight},e.sec,e.linear,function(){t=!1})}),obj_data={anchor:d},h.push(obj_data)}),d=a(this),a(window).off("scroll").on("scroll",function(){o=!0;for(var n=0;n<h.length;n++){var c=h[n].anchor;if(a(document).find("[data-anchor="+c+"]").length>0){if(!t&&a(window).scrollTop()>=a(document).find("[data-anchor="+c+"]").offset().top-e.head_hight&&a(window).scrollTop()<a(document).find("[data-anchor="+c+"]").offset().top+a(document).find("[data-anchor="+c+"]").height()-e.head_hight){if(d.find(".on").data("nav")!=h[n].anchor){e.url_hash&&(location.hash=h[n].anchor),d.find("[data-nav]").removeClass("on"),d.find("[data-nav]").eq(n).addClass("on"),a("[data-anchor]").removeClass("on"),a("[data-anchor]").eq(n).addClass("on");var i=a("[data-anchor]").eq(n).data("callback");if(i){var r=i.split("("),l=r[0],s=r[1].replace(")","").split(",");(l=window[l]).apply(null,s)}}break}}else console.log("%c not find "+c,"background:#000; color:red;");n==h.length-1&&d.find("[data-nav]").removeClass("on")}})})}}(jQuery);